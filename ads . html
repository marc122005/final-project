<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JS Poll, Ads & Privacy</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .box { border: 1px solid #ccc; padding: 20px; margin-bottom: 20px; border-radius: 6px; }
    .btn { margin-top: 10px; padding: 8px 16px; cursor: pointer; }
    .ad { background: #f1f1f1; padding: 10px; font-style: italic; }
  </style>
</head>
<body>

  <!-- Poll Section -->
  <div class="box" id="pollBox">
    <h2>Poll: Favorite JavaScript Framework</h2>
    <div>
      <input type="radio" name="poll" id="react" value="React">
      <label for="react">React</label><br>
      <input type="radio" name="poll" id="vue" value="Vue">
      <label for="vue">Vue</label><br>
      <input type="radio" name="poll" id="angular" value="Angular">
      <label for="angular">Angular</label>
    </div>
    <button class="btn" onclick="submitPoll()">Submit</button>
    <p id="pollResult"></p>
  </div>

  <!-- Advertisement Section -->
  <div class="box ad" id="adBox">
    <h3>Sponsored Ad</h3>
    <p id="adContent">Loading advertisement...</p>
  </div>

  <!-- Privacy Settings -->
  <div class="box" id="privacyBox">
    <h2>Privacy Settings</h2>
    <label><input type="checkbox" id="adsConsent"> Allow personalized ads</label><br>
    <label><input type="checkbox" id="analyticsConsent" checked> Allow analytics tracking</label><br>
    <button class="btn" onclick="savePrivacy()">Save Preferences</button>
    <p id="privacyStatus"></p>
  </div>

  <script>
    // Poll Logic
    function submitPoll() {
      const options = document.getElementsByName("poll");
      let selected = null;
      for (let option of options) {
        if (option.checked) {
          selected = option.value;
          break;
        }
      }

      const result = document.getElementById("pollResult");
      if (selected) {
        result.textContent = "Thanks! You voted for: " + selected;
      } else {
        result.textContent = "Please select an option before submitting.";
      }
    }

    // Simple Ad Rotation (Simulated)
    const ads = [
      "Enroll now: Learn JavaScript in 30 days!",
      "Ad: Get 50% off web hosting for developers.",
      "Try our free React course today!"
    ];

    function rotateAd() {
      const adText = ads[Math.floor(Math.random() * ads.length)];
      document.getElementById("adContent").textContent = adText;
    }

    // Rotate ad every 5 seconds
    setInterval(rotateAd, 5000);
    rotateAd(); // Initial load

    // Privacy Settings Logic
    function savePrivacy() {
      const adsConsent = document.getElementById("adsConsent").checked;
      const analyticsConsent = document.getElementById("analyticsConsent").checked;

      const status = document.getElementById("privacyStatus");
      status.textContent = "Privacy preferences saved.";

      // Simulate storage (console for now)
      console.log("Privacy Preferences:", {
        personalizedAds: adsConsent,
        analytics: analyticsConsent
      });
    }
  </script>

</body>
</html>
