<button id="followBtn" class="btn btn-success">Follow</button>

<script>
const userId = '123'; // Replace with dynamic target user ID
const followBtn = document.getElementById('followBtn');

// Check initial follow status
fetch(`/api/user/${userId}/is-following`)
  .then(res => res.json())
  .then(data => {
    followBtn.textContent = data.following ? 'Unfollow' : 'Follow';
    followBtn.className = data.following ? 'btn btn-secondary' : 'btn btn-success';
  });

followBtn.addEventListener('click', () => {
  const isUnfollow = followBtn.textContent === 'Unfollow';
  fetch(`/api/user/${userId}/${isUnfollow ? 'unfollow' : 'follow'}`, {
    method: isUnfollow ? 'DELETE' : 'POST'
  }).then(() => {
    followBtn.textContent = isUnfollow ? 'Follow' : 'Unfollow';
    followBtn.className = isUnfollow ? 'btn btn-success' : 'btn btn-secondary';
  });
});
</script>
