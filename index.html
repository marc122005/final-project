<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Winkly</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:ital,wght@0,100;0,300;0,400;0,500;0,700;0,800;0,900;1,100;1,300;1,400;1,500;1,700;1,800;1,900&family=Dancing+Script:wght@400..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/create-poste.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
<!--navbar-->
  <nav class="d-flex align-content-center align-items-center justify-content-between  ">
      <!--sidbar if screen smaller than 1200px-->
    <nav class="navbar sid-smal  col-lg-2 col-md-2 col-sm-2  navbar-dark ">
      <div class="container-fluid">
        <button class="navbar-toggl bg-transparent border-0 w-50" type="button" data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon "></span>
        </button>
        <div class="offcanvas offcanvas-end text-bg-dark w-50" tabindex="-1" id="offcanvasDarkNavbar"
          aria-labelledby="offcanvasDarkNavbarLabel">
          <div class="offcanvas-header">
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
              aria-label="Close"></button>
          </div>
          <div class="offcanvas-body ">
            <div class=" my-5">
              <div class="menu-item"><a href="#"><i class="fa-solid fa-house px-2"></i>home</a></div>
              <div class="menu-item"><a href="#"><i class="fa-solid fa-arrow-up-right-dots px-2"></i>popular</a></div>
              <hr>
              <div class="menu-item">
                <div class="accordion" id="accordionExample">
                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button class="accordion-button fs-5 " type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        <i class="fa-solid fa-list px-2"></i>Menu
                      </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
                      <div class="accordion-body">
                        <div class="menu-item"><a href="trending.html"><i
                              class="fa-solid fa-arrow-trend-up px-2"></i>trending</a></div>
                        <div class="menu-item"><a href="#"><i
                              class="fa-solid fa-arrow-up-right-dots px-2"></i>popular</a></div>
                        <div class="menu-item"><a href="#"><i class="fa-solid fa-house px-2"></i>home</a></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <hr>
              <div class="menu-item">
                <div class="accordion" id="accordionExample">
                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button class="accordion-button collapsed fs-5 " type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapsetow" aria-expanded="false" aria-controls="collapsetow">
                        Forum Categories
                      </button>
                    </h2>
                    <div id="collapsetow" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
                      <div class="accordion-body">
                        <div class="menu-item"><a href="technology.html"><i
                              class="fa-solid fa-microchip px-2"></i>Technology</a></div>
                        <div class="menu-item"><a href="gaming.html"><i class="fa-solid fa-gamepad px-2"></i>Gaming</a>
                        </div>
                        <div class="menu-item"><a href="movinig.html"><i class="fa-solid fa-film px-2"></i>Movies</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <hr>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <!--logo-->
    <div class="web-logo col-lg-2 col-md-2  col-sm-2 ">
      <a class="fs-2" href=""><i class="fa-brands fa-square-reddit"></i><span>Winkly</span> </a>
    </div>
        <!--search bar-->
    <form class="col-lg-4 col-md-4 col-sm-5" role="search">
      <i class="fa-solid fa-magnifying-glass"></i>
      <input class="form-control me-2" type="search" id="searchInput" placeholder="Search for users..."
        aria-label="Search">
    </form>
    <ul
      class="nav-ul d-flex my-1 col-lg-4 col-md-4 col-sm-3 text-capitalize justify-content-end align-content-center align-items-center">
      <li><a class="get mx-1" href="getApp.html"><i class="fa-solid fa-qrcode mx-2"></i>get app</a></li>
      <li><a class="log mx-1" href="login.html">log in</a></li>
      <!-- Notification button -->
      <li class="notification mx-1 position-relative">
        <a href="#" class="d-flex align-items-center">
          <i class="fa-solid fa-bell"></i>
          <span class="badge position-absolute top-0 start-100 translate-middle bg-danger text-white rounded-circle"
            style="font-size: 0.75rem; min-width: 20px; height: 20px; display: flex; justify-content: center; align-items: center;">
            3
          </span>
        </a>
      </li>
      <!-- small menu -->
      <li class="points ">
        <a class="d-flex justify-content-center align-items-center" href="#">
          <span>.</span>
          <span>.</span>
          <span>.</span>
        </a>
        <div class="menu-box">
          <ul class="d-flex flex-column gap-2 justify-content-evenly ">
            <li><a class="px-2 my-profile" href="profile.html"><i class="fa-solid fa-user mx-2"></i>My Profile</a></li>
            <li><a class="px-2 admin" href="admin.html"><i class="fa-solid fa-chart-simple mx-2"></i>Admin</a></li>
            <li><a class="px-2 privacy" href="privacy.html"><i class="fa-solid fa-user mx-2"></i>Privacy settings</a></li>
            <li><a class="px-2 logout" href="#"><i class="fa-solid fa-right-from-bracket mx-2"></i>Log out</a></li>
            <li class="px-2">
              <i class="fa-solid fa-globe mx-2"></i>
              <select id="languageSelect" class="form-select" style="width: auto; display: inline-block;">
                <option value="en">English</option>
                <option value="ar">العربية</option>
              </select>
            </li>
          </ul>
        </div>
      </li>
    </ul>
  </nav>
  <!--end-navbar-->

  <!--sidebar and content-->
  <div class="sidebar-content d-flex">
      <!--sidebar-->
    <div class="sidebar my-5">
      <div class="menu-item"><a class="home" href="#"><i class="fa-solid fa-house px-2"></i>home</a></div>
      <div class="menu-item"><a class="popular" href="#"><i class="fa-solid fa-arrow-up-right-dots px-2"></i>popular</a></div>
      <hr>
      <div class="menu-item">
        <div class="accordion" id="accordionExample">
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button fs-5 menu " type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                <i class="fa-solid fa-list px-2"></i>Menu
              </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                <div class="menu-item"><a class="trending" href="trending.html"><i
                      class="fa-solid fa-arrow-trend-up px-2"></i>trending</a></div>
                <div class="menu-item"><a class="poll" href="poll.html"><i class="fa-solid fa-arrow-up-right-dots px-2"></i>poll</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <hr>
      <div class="menu-item">
        <div class="accordion" id="accordionExample">
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed fs-5 categories" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapsetow" aria-expanded="false" aria-controls="collapsetow">
                Forum Categories
              </button>
            </h2>
            <div id="collapsetow" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                <div class="menu-item"><a class="technology" href="technology.html"><i
                      class="fa-solid fa-microchip px-2"></i>Technology</a></div>
                <div class="menu-item"><a class="gaming" href="gaming.html"><i class="fa-solid fa-gamepad px-2"></i>Gaming</a></div>
                <div class="menu-item"><a class="movies" href="movies.html"><i class="fa-solid fa-film px-2"></i>Movies</a></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <hr>
    </div>
    <!--end-sidebar-->

    <div class="content mt-5 d-flex flex-row">
      <!-- postss -->
      <div class="posts-container col-lg-9 d-flex flex-column justify-content-around py-4 text-white ">
        <button class="create btn  " onclick="window.location.href='create-post.html'">Create
          Post</button>
        <!-- postes will added her dynamically  -->
      </div>
      <!-- chatbar and footer -->
      <div class="chatbar-footer  position-relative">
        <div class="chat-sidebar">
          <div class="chat-header">
            <span id="backArrow" onclick="goBack()">&#8592;</span>
            <span id="chatTitle">chat</span>
          </div>
          <div class="chat-body" id="chatBody">
            <div class="contact" onclick="openChat('John Doe')">John Doe</div>
            <div class="contact" onclick="openChat('Jane Smith')">Jane Smith</div>
            <div class="contact" onclick="openChat('Ali Mahmoud')">Ali Mahmoud</div>
          </div>
          <div class="chat-input" id="chatInputContainer" style="display: none;">
            <input type="text" id="messageInput" placeholder="Type a message..." />
            <button onclick="sendMessage()">Send</button>
          </div>
        </div>
        <div class="footer">
          <div class="content d-flex flex-column justify-content-center text-center ">
            <ul class="d-flex flex-row justify-content-center">
              <li><a href="#"><i class="fa-brands fa-facebook-f mx-2"></i></a></li>
              <li><a href="#"><i class="fa-brands fa-twitter mx-2"></i></a></li>
              <li><a href="#"><i class="fa-brands fa-google mx-2"></i></a></li>
              <li><a href="#"><i class="fa-brands fa-github mx-2"></i></a></li>
            </ul>
            <p>Copy Right 2018 © By <a href="#">Theme-fair</a> All Rights Reserved</p>
          </div>
        </div>
      </div>
    </div>

    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/chatbar.js"></script>
    <script src="js/create-post.js"></script>
    <script src="js/searchbar.js"></script>
    <script src="js/language.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));
        const userProfile = JSON.parse(localStorage.getItem("userProfile"));
        const loginButton = document.querySelector(".log");
        const logoutButton = document.querySelector(".menu-box ul li a.logout");
        const adminLink = document.querySelector(".menu-box ul li a.admin");
        // Hide the login button if a user is logged in OR just signed up
        if (loggedInUser || userProfile) {
          if (loginButton) {
            loginButton.style.display = "none";
          }
        } else {
          if (loginButton) {
            loginButton.style.display = "inline-block";
          }
        }
        // Hide the "Admin" link if the logged-in user is not an admin
        if (loggedInUser) {
          if (adminLink && loggedInUser.role !== "admin") {
            adminLink.style.display = "none";
          }
        } else {
          if (adminLink) {
            adminLink.style.display = "block";
          }
        }

        // Add event listener to the "Log Out" button
        if (logoutButton) {
          logoutButton.addEventListener("click", function (event) {
            event.preventDefault();
            localStorage.removeItem("loggedInUser");
            localStorage.removeItem("userProfile");
            if (loginButton) {
              loginButton.style.display = "inline-block";
            }
            window.location.href = "login.html";
          });
        }
      });
    </script>
</body>

</html>